# 升级到electron10以后的版本remote失效

在electron项目中常常使用remote来实现主进程和渲染进程之间的通信

然而在renderer.js 渲染进程中使用如下代码会导致异常错误

```javascript
remote = require('electron').remote
mainProcess = remote.require('./main.js')
```

```
Uncaught TypeError: Cannot read property 'require' of undefined
```

打印remote对象，值为 ***undefined***

## 解决方案

原因是在electron 10 下，remote模块默认关闭，必须手动设置webPreferences和中的enableRemoteModule为true后才能使用

```javascript
mainWindow = new BrowserWindow({
        show: false,
        webPreferences: {
            nodeIntegration: true,
            enableRemoteModule:true   
        }
        
})
```

**********

# dialog.showOpenDialog无法使用

```javascript
let files = dialog.showOpenDialog({
        properties: ['openFile', 'multiSelections'],
        filters: [
            {name:'Text Files',extensions:['txt']},
            {name:'Markdown Files',extensions: ['md','markdown']}
        ]
})
```

showOpenDialog为***undefined***

## 解决方案

在electron 10中showOpenDialog由原来的回调函数变为了Promise

改为以下代码即可

```javascript
    dialog.showOpenDialog({
        properties: ['openFile', 'multiSelections'],
        filters: [
            {name:'Text Files',extensions:['txt']},
            {name:'Markdown Files',extensions: ['md','markdown']}
        ]
    }).then(result => {
        console.log(result)
    }).catch(err => {
        console.log(err)
    })
```

# 进程间通信



# 无边框窗口实现



# 多窗口实现



# 未完待续